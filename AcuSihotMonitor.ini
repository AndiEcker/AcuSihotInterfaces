[Settings]
serverip = 10.103.222.52
acudsn = SP.WORLD
checks = '''[
	dict(name='Acumen', background_color=(0.75, 0.6, 0, 1)),
	dict(name='Categorized apartments', parent_board='Acumen', from_join='T_AP, T_AT',
	cols=['AP_CODE as apt', 'AP_SIHOT_CAT as sh_cat', 'AT_GENERIC as acu_cat', 'AP_QUALITY as acu_quality',
	'(select f_stragg(AFT_DESC) from T_AFR, T_AFT where AFR_AFTREF = AFT_CODE and AFR_APREF = AP_CODE) as acu_feat'],
	where_group_order="AP_ATREF = AT_CODE"
	" and exists (select LU_NUMBER from T_LU where LU_CLASS = 'SIHOT_HOTELS'"
	" and LU_ID = AT_RSREF and LU_ACTIVE = 1)"),
	dict(name='Uncategoriesed apartments', parent_board='Acumen', from_join='T_AP', cols=['AP_CODE as apt'],
	where_group_order="AP_SIHOT_CAT is NULL"
	" and exists (select LU_NUMBER from T_LU where LU_CLASS = 'SIHOT_HOTELS'"
	" and LU_ID = (select AT_RSREF from T_AT where AT_CODE = AP_ATREF) and LU_ACTIVE = 1) order by AP_CODE"),
	dict(name='Unsynced guests', parent_board='Acumen', from_join='V_ACU_CD_UNSYNCED', cols=['CD_CODE as mc']),
	dict(name='Unsynced reservations', parent_board='Acumen', from_join='V_ACU_RES_UNSYNCED',
	cols=["nvl(SIHOT_GDSNO, case when RUL_SIHOT_RATE in ('TC', 'TK') then"
	" (select 'TC' || RH_EXT_BOOK_REF from T_RH where"
	" RH_CODE = F_KEY_VAL(replace(replace(RUL_CHANGES, ' (', '='''), ')', ''''), 'RU_RHREF'))"
	" else to_char(RUL_PRIMARY) end) as gds",
	'SIHOT_MKT_SEG as ro', 'OC_CODE as omc', 'CD_CODE as mc', 'SIHOT_LINK_GROUP as link_group']),
	dict(name='Guest sync log', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_LOGREF'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'CD'"
	" and substr(SRSL_STATUS, 1, 6) = 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Reservation sync log', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_LOGREF'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'RU'"
	" and substr(SRSL_STATUS, 1, 6) = 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Guest sync errors', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_STATUS', 'SRSL_MESSAGE as err'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'CD'"
	" and substr(SRSL_STATUS, 1, 6) <> 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Reservation sync errors', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_STATUS', 'SRSL_MESSAGE as err'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'RU'"
	" and substr(SRSL_STATUS, 1, 6) <> 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Sihot', background_color=(0.69, 0, 0, 1)),
	dict(name='Reservation Discrepancies', parent_board='Sihot'),
	dict(name='Notification', parent_board='Sihot'),
	dict(name='Acu Server', background_color=(0.75, 0.36, 0, 1)),
	dict(name='Time Sync', parent_board='Acu Server'),
	dict(name='Link Alive', parent_board='Acu Server'),
	dict(name='System Config', background_color=(0, 0, 0.6, 1)),
	dict(name='Agency Match Codes', parent_board='System Config'),
	dict(name='Agency Object Ids', parent_board='System Config'),
	]'''
ori_checks = '''[
	dict(name='Acumen', background_color=(0.75, 0.6, 0, 1)),
	dict(name='Categorized apartments', parent_board='Acumen', from_join='T_AP, T_AT',
	cols=['AP_CODE as apt', 'AP_SIHOT_CAT as sh_cat', 'AT_GENERIC as acu_cat', 'AP_QUALITY as acu_quality',
	'(select f_stragg(AFT_DESC) from T_AFR, T_AFT where AFR_AFTREF = AFT_CODE and AFR_APREF = AP_CODE) as acu_feat'],
	where_group_order="AP_ATREF = AT_CODE"
	" and exists (select LU_NUMBER from T_LU where LU_CLASS = 'SIHOT_HOTELS'"
	" and LU_ID = AT_RSREF and LU_ACTIVE = 1)"),
	dict(name='Uncategoriesed apartments', parent_board='Acumen', from_join='T_AP', cols=['AP_CODE as apt'],
	where_group_order="AP_SIHOT_CAT is NULL"
	" and exists (select LU_NUMBER from T_LU where LU_CLASS = 'SIHOT_HOTELS'"
	" and LU_ID = (select AT_RSREF from T_AT where AT_CODE = AP_ATREF) and LU_ACTIVE = 1) order by AP_CODE"),
	dict(name='Unsynced guests', parent_board='Acumen', from_join='V_ACU_CD_UNSYNCED', cols=['CD_CODE as mc']),
	dict(name='Unsynced reservations', parent_board='Acumen', from_join='V_ACU_RES_UNSYNCED',
	cols=["nvl(SIHOT_GDSNO, case when RUL_SIHOT_RATE in ('TC', 'TK') then"
	" (select 'TC' || RH_EXT_BOOK_REF from T_RH where"
	" RH_CODE = F_KEY_VAL(replace(replace(RUL_CHANGES, ' (', '='''), ')', ''''), 'RU_RHREF'))"
	" else to_char(RUL_PRIMARY) end) as gds",
	'SIHOT_MKT_SEG as ro', 'OC_CODE as omc', 'CD_CODE as mc', 'SIHOT_LINK_GROUP as link_group']),
	dict(name='Guest sync log', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_LOGREF'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'CD'"
	" and substr(SRSL_STATUS, 1, 6) = 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Reservation sync log', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_LOGREF'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'RU'"
	" and substr(SRSL_STATUS, 1, 6) = 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Guest sync errors', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_STATUS', 'SRSL_MESSAGE as err'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'CD'"
	" and substr(SRSL_STATUS, 1, 6) <> 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Reservation sync errors', parent_board='Acumen', from_join='T_SRSL',
	cols=['SRSL_PRIMARY as pk', 'SRSL_STATUS', 'SRSL_MESSAGE as err'],
	where_group_order="SRSL_DATE = trunc(sysdate) and SRSL_TABLE = 'RU'"
	" and substr(SRSL_STATUS, 1, 6) <> 'SYNCED'"
	" order by SRSL_DATE desc"),
	dict(name='Sihot', background_color=(0.69, 0, 0, 1)),
	dict(name='Reservation Discrepancies', parent_board='Sihot'),
	dict(name='Notification', parent_board='Sihot'),
	dict(name='Acu Server', background_color=(0.75, 0.36, 0, 1)),
	dict(name='Time Sync', parent_board='Acu Server'),
	dict(name='Link Alive', parent_board='Acu Server'),
	dict(name='System Config', background_color=(0, 0, 0.6, 1)),
	dict(name='Agency Match Codes', parent_board='System Config'),
	dict(name='Agency Object Ids', parent_board='System Config'),
	]'''
